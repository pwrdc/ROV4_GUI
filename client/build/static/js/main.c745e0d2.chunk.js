(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,n){e.exports=n(69)},37:function(e,t,n){},66:function(e,t){},69:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n(2),i=n(3),r=n(4),l=n(0),c=n.n(l),s=n(30),m=n.n(s),u=(n(37),function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return c.a.createElement("header",{className:"box Header"},c.a.createElement("h3",{className:"box__title Header__title"},"GUI_ROV4"))}}]),n}(c.a.Component)),h=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"handleClick",value:function(){this.props.io.emit("get_ahrs","dej mi te ahrsy"),this.props.io.on("ahrs",(function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"box Module",onClick:function(){return e.handleClick()}},c.a.createElement("h3",{className:"box__title Module__title"},this.props.title),c.a.createElement("div",{className:"Module__content"},this.props.content))}}]),n}(c.a.Component),d=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).state={img:c.a.createElement("h2",{style:{zIndex:1,position:"relative",top:"50%",transform:"translateY(-50%)",textAlign:"center",cursor:"pointer"}},"Kliknij tutaj aby po\u0142\u0105czy\u0107 z socketem")},o}return Object(o.a)(n,[{key:"getRandomRGBValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;return Math.floor(Math.random()*t)+e}},{key:"getRandomRGBImgArray",value:function(e,t){for(var n=[],a=0;a<e;a++){for(var o=[],i=0;i<t;i++)o.push([this.getRandomRGBValue(0,255),this.getRandomRGBValue(0,255),this.getRandomRGBValue(0,255)]);n.push(o)}return n}},{key:"renderRandomRGBImg",value:function(e){for(var t=this.refs.canvas.getContext("2d"),n=0;n<e.length;n++)for(var a=0;a<e[0].length;a++)t.fillStyle="rgba("+e[n][a][0]+","+e[n][a][1]+","+e[n][a][2]+", 1)",t.fillRect(n,a,1,1)}},{key:"animateRandomRGBImg",value:function(){var e=this;setInterval((function(){e.renderRandomRGBImg(e.getRandomRGBImgArray(e.refs.canvas.width,e.refs.canvas.height))}),500)}},{key:"renderImg",value:function(e){var t="data:image/jpg;base64, "+e;this.setState({img:c.a.createElement("img",{src:t,alt:"ROV camera output"})})}},{key:"fetchImgTxtBase64",value:function(e){var t=this;fetch("b64.txt").then((function(e){return e.text()})).then((function(e){t.renderImg(e)}))}},{key:"handleClick",value:function(){var e=this;this.props.io.emit("get_frame","dej mi te klatki");var t=0,n=null,a=null;this.props.io.on("frame",(function(o){var i=(new Date).getSeconds();i!==n&&(console.log("Framerate: "+(t-a)),a=t),n=i,console.log("Frame received: "+t),e.renderImg(o.FRAME),t++}))}},{key:"componentDidMount",value:function(){this.animateRandomRGBImg()}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"Camera",onClick:function(){return e.handleClick()}},this.state.img,c.a.createElement("canvas",{style:{cursor:"pointer"},ref:"canvas",width:"4",height:"3"}))}}]),n}(c.a.Component),p=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return c.a.createElement("div",{className:"box Terminal"},c.a.createElement("h3",{className:"box__title Terminal__title"},this.props.title))}}]),n}(c.a.Component),v=n(31),f=n.n(v),g=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).state={io:f()("http://localhost:5000")},o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.state.io.on("connect",(function(){console.log("Socket connected")}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"app"},c.a.createElement(u,null),c.a.createElement("main",null,c.a.createElement("div",{className:"modules"},c.a.createElement(h,{title:"Module 1",content:"sample content sample content",io:this.state.io}),c.a.createElement(h,{title:"Module 2",content:"sample content sample content",io:this.state.io}),c.a.createElement(h,{title:"Module 3",content:"sample content sample content",io:this.state.io}),c.a.createElement(h,{title:"Module 4",content:"sample content sample content",io:this.state.io})),c.a.createElement(d,{io:this.state.io}),c.a.createElement("div",{className:"modules"},c.a.createElement(h,{title:"Module 5",content:"sample content sample content",io:this.state.io}),c.a.createElement(h,{title:"Module 6",content:"sample content sample content",io:this.state.io}),c.a.createElement(h,{title:"Module 7",content:"sample content sample content",io:this.state.io}))),c.a.createElement("div",{className:"terminals"},c.a.createElement(p,{title:"Terminal 1"}),c.a.createElement(p,{title:"Terminal 2"})))}}]),n}(c.a.Component);m.a.render(c.a.createElement(g,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.c745e0d2.chunk.js.map